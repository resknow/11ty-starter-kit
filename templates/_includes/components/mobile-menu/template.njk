<div x-data="{ isOpen: false }">
    <nav class="mobile-menu" :data-state="isOpen ? 'open' : 'closed'">
        <ul>
            {% for link in props.links %}
                {% if link.condition | default(true) %}
                <li>
                    <a href="{{ link.href }}">{{ link.label }}</a>

                    {% if link.children %}
                        <ul class="mobile-menu__dropdown | ml-4">
                            {% for child in link.children %}
                            <li>
                                <a href="{{ child.href }}">{{ child.label }}</a>
                            </li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </li>
                {% endif %}
            {% endfor %}
        </ul>

        {% if props.phoneNumber %}
        <div class="mobile-menu__phone">
            <p class="uppercase c-gray-70 tracking-wide size-sm">Call Us</p>
            <a href="tel:{{ props.phoneNumber }}">{{ props.phoneNumber }}</a>
        </div>
        {% endif %}
    </nav>

    <button
        @click="isOpen = !isOpen"
        :data-state="isOpen ? 'open' : 'closed'"
        class="hamburger"
    >
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
    </button>
</div>